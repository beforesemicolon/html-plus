<variable name="page" value="$data.pages.documentation"></variable>

<include partial="layout" data="page">
	<link rel="stylesheet" href="documentation.scss" inject-id="style">
	<main class="documentation wrapper">
		<aside>
			<include partial="search-field" data="{placeholder: 'Search...'}"></include>
			<section>
				<h2>{page.docs_menu.title}</h2>
				<ul>
					<li #repeat="page.docs_menu.list" class="{$data.path.startsWith($item.path) ? 'current' : ''}">
						<a href="{$item.path}">{$item.label}</a>
						<span #if="$item.list?.length"
						      class="expand-indicator {$data.path.startsWith($item.path) ? 'expanded' : ''}"></span>
						<ul #if="$item.list?.length"
						    style="display: {$data.path.startsWith($item.path) ? 'block' : 'none'}">
							<li #repeat="$item.list"><a href="{$item.path}">{$item.label}</a></li>
						</ul>
					</li>
				</ul>
			</section>
		</aside>
		<variable name="currentPage"
		          value="page.docs_menu.list.find((item) => item.path === $data.path)"></variable>
		<article #if="currentPage">
			<h2>{currentPage.label}</h2>
			<inject html="currentPage.content"></inject>
		</article>
		<article #if="$data.path === page.path">
			<inject html="page.content"></inject>
		</article>
	</main>

</include>